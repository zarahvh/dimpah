
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visuals and Arts 1 &#8212; DIMPAH</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e7340bb3dbd8dde6db86f25597f54a1b.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">DIMPAH</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Intro
  </a>
 </li>
</ul>
<ul class="nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../Introduction.html">
   Introduction to Python
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../Introduction/Introduction_1.1.html">
     Interactive Data Exploration with Python 1.1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Introduction/Introduction_1.2.html">
     Interactive Data Exploration with Python 1.2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Introduction/Introduction_2.1.html">
     Interactive Data Exploration with Python 2.1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Introduction/Introduction_2.2.html">
     Interactive Data Exploration with Python 2.2
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../social_analytics.html">
   Social Analytics
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../SocialAnalytics/SocialMedia/Social_Sensing_1.html">
     Social Sensing 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../SocialAnalytics/SocialMedia/Social_Sensing_2.html">
     Social Sensing 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../SocialAnalytics/Text/Text_1.html">
     Analysing Historical Cultures 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../SocialAnalytics/Text/Text_2.html">
     Analysing Historical Cultures 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../SocialAnalytics/VisualsArts/Visuals_and_Arts_1.html">
     Visuals and Arts 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../SocialAnalytics/VisualsArts/Visuals_and_Arts_2.html">
     Visuals and Arts 2
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../AI_for_society.html">
   AI for society
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../AI_for_society/ass1/Machine_Bias.html">
     Machine Bias
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../AI_for_society/ass2/Civility_in_Communication.html">
     Civility in Communication
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../AI_for_society/ass3/Data_Exploration.html">
     Exploratory Data Analysis with Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../AI_for_society/ass3/US_Congress_Sponsors.html">
     Collaboration Networks in the US Congress
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../AI_for_society/ass3/Analysing_Communities_1.html">
     Detecting Political Communities of Practice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../AI_for_society/ass3/Analysing_Communities_2.html">
     Social Data from the Web
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../PredictingModelling.html">
   PredictingModelling
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../PredictingModelling/LinearPrediction.html">
     Linear Regression Prediction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../PredictingModelling/Titanic.html">
     Predicting the survival of Titanic passengers
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../FocusGroup.html">
   Focus Group
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../FocusGroup/Communities_of_Digital_Culture_and_Society_1.html">
     Detecting Political Communities of Practice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../FocusGroup/Communities_of_Digital_Culture_and_Society_2.html">
     Social Data from the Web
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../FocusGroup/Communities_of_Digital_Culture_and_Society_2.html#social-networking-communities">
     Social Networking Communities
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../DigitalMarketing.html">
   Digital Marketing
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../DigitalMarketing/Basics.html">
     Digital marketing and Python - The basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../DigitalMarketing/ChoiceModelling.html">
     Choice Modelling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../DigitalMarketing/Churn.html">
     Churn Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../DigitalMarketing/CustomerRelationshipManagement.html">
     Customer Relationship Management
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../HistoricalCultures.html">
   Historical Cultures
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../HistoricalCultures/AnalysingShakespeare.html">
     Analysing Shakespeare
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../HistoricalCultures/hate-speech-twitter.html">
     Hate Speech Detector
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../HistoricalCultures/Quanteda.html">
     Document Term Matrix
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../HistoricalCultures/Quanteda.html#wordcloud">
     Wordcloud
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../HistoricalCultures/TidyText.html">
     TidyText
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../SocialSensing.html">
   Social Sensing
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../SocialSensing/APIs/Nowcasting-GTrends.html">
     Nowcasting with Google Trends
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../SocialSensing/APIs/TwitterStreamingAPI.html">
     Twitter Streaming API
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../SocialSensing/APIs/Whatsapp.html">
     Whatsapp
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../SocialSensing/Graphs/Igraph.html">
     R graphs and Gephi
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../SocialSensing/Graphs/Reveredetection.html">
     Eighteenth Century beta of PRISM
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../VisualsArts.html">
   Visuals Arts
  </a>
  <ul class="simple collapse-ul">
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/VisualsArts/Visuals_and_Arts_1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/zarahvh/dimpah"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/zarahvh/dimpah/issues/new?title=Issue%20on%20page%20%2FVisualsArts/Visuals_and_Arts_1.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/zarahvh/dimpah/master?urlpath=tree/VisualsArts/Visuals_and_Arts_1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="visuals-and-arts-1">
<h1>Visuals and Arts 1<a class="headerlink" href="#visuals-and-arts-1" title="Permalink to this headline">¶</a></h1>
<p>It is time to visualise and organise data into graphs. We have already done this of course but in this session we take a more systematic look.</p>
<p>In this session, we will learn about the grammar of graphics that Leland Wilkinson introduced in the book Grammar of Graphics, Springer, New York, 2005. <a class="reference external" href="https://towardsdatascience.com/a-comprehensive-guide-to-the-grammar-of-graphics-for-effective-visualization-of-multi-dimensional-1f92b4ed4149">https://towardsdatascience.com/a-comprehensive-guide-to-the-grammar-of-graphics-for-effective-visualization-of-multi-dimensional-1f92b4ed4149</a> discusses it for Python.</p>
<p>We will follow roughly the tutorial at <a class="reference external" href="http://tutorials.iq.harvard.edu/R/Rgraphics/Rgraphics.html">http://tutorials.iq.harvard.edu/R/Rgraphics/Rgraphics.html</a>, although the tutorial has many more examples and graphs than we will work with. But we will focus on a historical analysis and use the data and some examples from the excellent <a class="reference external" href="http://benschmidt.org/Crewlists">http://benschmidt.org/Crewlists</a>. Later in the session we will apply our knowledge to data from museums.</p>
<p>The grammar of graphs defines independent building blocks for the things we want to do with graphs. Through their combination, the blocks give us any number of possible combinations to create perfect visualisations.</p>
<p>First we load the libraries always need. Run the cell below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Keep cell</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">sca</span>
</pre></div>
</div>
</div>
</div>
<p>Next we load our favourite graphing library Matplotlib. We also add some more things like converters which will help us later to use dates in our visualisations. Run the next cell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Keep cell</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">pandas.plotting</span> <span class="kn">import</span> <span class="n">register_matplotlib_converters</span>
<span class="n">register_matplotlib_converters</span><span class="p">()</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<p>Seaborn is a more recent Python data visualization library based on matplotlib. According to <a class="reference external" href="https://seaborn.pydata.org/">https://seaborn.pydata.org/</a>, it ‘provides a high-level interface for drawing attractive and informative statistical graphics.’ It integrates easily with Pandas and provides an easier to use set of more high-level functions. So, load the library with <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">seaborn</span> <span class="pre">as</span> <span class="pre">sns</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</pre></div>
</div>
</div>
</div>
<p>It is time to load the historical data, which is a 5000-entry sample of the New Bedford Whaling Museum’s data on whalers mainly in the ninentheenth century. We choose it because it is like most cultural data very rich but also very messy. It shows that whaling was recruiting people from all over the world and was very large industry. Run the next cell to create crews.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Keep cell</span>

<span class="n">crews</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/crews-sample.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The data is even as a sample too big to look at it as a whole, so let us go slow. Enter <code class="docutils literal notranslate"><span class="pre">crews.info()</span></code> to get a quick overview of the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crews</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 5000 entries, 0 to 4999
Data columns (total 19 columns):
 #   Column                Non-Null Count  Dtype  
---  ------                --------------  -----  
 0   LastName              4992 non-null   object 
 1   FirstName             4995 non-null   object 
 2   Vessel                5000 non-null   object 
 3   Rig                   4991 non-null   object 
 4   ApproximateDeparture  4993 non-null   object 
 5   FullName              4999 non-null   object 
 6   Age                   2142 non-null   float64
 7   Height                1334 non-null   float64
 8   Skin                  2101 non-null   object 
 9   Hair                  2056 non-null   object 
 10  Eye                   6 non-null      object 
 11  Residence             2229 non-null   object 
 12  Rank                  2592 non-null   object 
 13  Lay.                  2254 non-null   object 
 14  Remarks               397 non-null    object 
 15  Voyage.number         5000 non-null   int64  
 16  VesselNumber          5000 non-null   int64  
 17  date                  2023 non-null   object 
 18  height                1344 non-null   float64
dtypes: float64(3), int64(2), object(14)
memory usage: 742.3+ KB
</pre></div>
</div>
</div>
</div>
<p>There are some promising features but the data really is very messy. ‘Eye’, e.g., only has 6 valid entries against ‘Vessel’ = 5000. Let’s take a look at the data then with <code class="docutils literal notranslate"><span class="pre">crews.head()</span></code>. You know this already.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crews</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>LastName</th>
      <th>FirstName</th>
      <th>Vessel</th>
      <th>Rig</th>
      <th>ApproximateDeparture</th>
      <th>FullName</th>
      <th>Age</th>
      <th>Height</th>
      <th>Skin</th>
      <th>Hair</th>
      <th>Eye</th>
      <th>Residence</th>
      <th>Rank</th>
      <th>Lay.</th>
      <th>Remarks</th>
      <th>Voyage.number</th>
      <th>VesselNumber</th>
      <th>date</th>
      <th>height</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Mitchell</td>
      <td>Auguston Jr</td>
      <td>Janet</td>
      <td>Bark</td>
      <td>2/19/1877</td>
      <td>Mitchell, Auguston Jr</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>7357</td>
      <td>354</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Macy</td>
      <td>George N.</td>
      <td>Thomas Winslow</td>
      <td>Brig</td>
      <td>7/28/1846</td>
      <td>George N. Macy</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Greenhand</td>
      <td>1-110</td>
      <td>NaN</td>
      <td>13879</td>
      <td>661</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Dearle</td>
      <td>John</td>
      <td>Franklin</td>
      <td>Ship</td>
      <td>9/3/1853</td>
      <td>John Dearle</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Greenhand</td>
      <td>1-65</td>
      <td>NaN</td>
      <td>5231</td>
      <td>219</td>
      <td>1853-03-09</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Couto</td>
      <td>Joseph Antone</td>
      <td>William Wilson</td>
      <td>Schr</td>
      <td>11/14/1878</td>
      <td>Couto, Joseph Antone</td>
      <td>28.0</td>
      <td>167.64</td>
      <td>Dark</td>
      <td>Dark</td>
      <td>NaN</td>
      <td>Brazil</td>
      <td>Seaman</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>15759</td>
      <td>710</td>
      <td>NaN</td>
      <td>66.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Umara</td>
      <td>NaN</td>
      <td>Arab</td>
      <td>Ship</td>
      <td>11/18/1845</td>
      <td>Umara</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Ordinary</td>
      <td>5/M</td>
      <td>ON AT ZANZIBAR 06/28/1847</td>
      <td>1161</td>
      <td>899</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>There is too much for to go into. So, we decided to focus only on a few columns. ‘Age’, ‘Height’, ‘date’, ‘Rig’ and ‘Skin’. Let’s run <code class="docutils literal notranslate"><span class="pre">crews</span> <span class="pre">=</span> <span class="pre">crews[['Age',</span> <span class="pre">'Height',</span> <span class="pre">'date',</span> <span class="pre">'Rig',</span> <span class="pre">'Skin']]</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crews</span> <span class="o">=</span> <span class="n">crews</span><span class="p">[[</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;Rig&#39;</span><span class="p">,</span> <span class="s1">&#39;Skin&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<p>Because we like it tidy, we think that the column ‘date’ should be ‘Date’ inline with the other columns. A quick check of the Pandas documentation, tells us that this can be down with <code class="docutils literal notranslate"><span class="pre">crews.rename(columns</span> <span class="pre">=</span> <span class="pre">{'date':</span> <span class="pre">'Date'},</span> <span class="pre">inplace</span> <span class="pre">=</span> <span class="pre">True)</span></code>. inplace means that we do not create a new data frame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crews</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="s1">&#39;Date&#39;</span><span class="p">},</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Looking back at our info() output, the ‘Date’ column should also not be object/string but a date format. In Pandas this is done with to_datetime, which requires the column to be transformed, the format that the dates are noted in (in Y, M and d but best check the documentation and the examples). Run <code class="docutils literal notranslate"><span class="pre">crews['Date']</span> <span class="pre">=</span> <span class="pre">pd.to_datetime(crews['Date'],</span> <span class="pre">format='%Y-%m-%d',</span> <span class="pre">errors='coerce')</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crews</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">crews</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s run <code class="docutils literal notranslate"><span class="pre">crews.info()</span></code> again and decide that our data looks good now.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crews</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 5000 entries, 0 to 4999
Data columns (total 5 columns):
 #   Column  Non-Null Count  Dtype         
---  ------  --------------  -----         
 0   Age     2142 non-null   float64       
 1   Height  1334 non-null   float64       
 2   Date    2023 non-null   datetime64[ns]
 3   Rig     4991 non-null   object        
 4   Skin    2101 non-null   object        
dtypes: datetime64[ns](1), float64(2), object(2)
memory usage: 195.4+ KB
</pre></div>
</div>
</div>
</div>
<p>We can move on to our analysis. First, we are interested in the heights and ages of the whalers.</p>
<p>You can use the function value_counts() on a specific column to see how often each of its value occurs, we do this here for the Height column. Run <code class="docutils literal notranslate"><span class="pre">crews['Height'].value_counts()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crews</span><span class="p">[</span><span class="s1">&#39;Height&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>170.18    245
167.64    210
172.72    207
175.26    161
177.80    122
165.10    116
162.56     89
180.34     53
160.02     42
157.48     22
182.88     21
185.42     12
154.94     10
187.96      7
152.40      6
134.62      2
132.08      2
137.16      2
190.50      1
149.86      1
332.74      1
121.92      1
147.32      1
Name: Height, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Obviously this is a very centred distribution around a few very frequent values, which is very normal for values like human heights. We plot the distribution by using matplotlib. To this end, we first take the top 20 heights. As value_counts() returns a data frame, we can get those with head(). Run <code class="docutils literal notranslate"><span class="pre">height_20</span> <span class="pre">=</span> <span class="pre">crews['Height'].value_counts().head(20)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">height_20</span> <span class="o">=</span> <span class="n">crews</span><span class="p">[</span><span class="s1">&#39;Height&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s make a bar chart first (<a class="reference external" href="https://en.wikipedia.org/wiki/Bar_chart">https://en.wikipedia.org/wiki/Bar_chart</a>), which are well suited here. Bar charts are used to explore a single value and its frequency. Run <code class="docutils literal notranslate"><span class="pre">height_20.plot(kind='bar')</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">height_20</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_26_11.png" src="../_images/Visuals_and_Arts_1_26_11.png" />
</div>
</div>
<p>The seaborn package makes it easier (and prettier) to create a similar chart. This time, a histogram (<a class="reference external" href="https://en.wikipedia.org/wiki/Histogram">https://en.wikipedia.org/wiki/Histogram</a>) will help us see how ‘Height’ follows a normal distribution (<a class="reference external" href="https://en.wikipedia.org/wiki/Normal_distribution">https://en.wikipedia.org/wiki/Normal_distribution</a>), which have been historically designed with these kinds of variables in mind. .</p>
<p>Let’s move on to seaborn and use <code class="docutils literal notranslate"><span class="pre">sns.histplot(data=crews,</span> <span class="pre">x='Height')</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Height&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Height&#39;, ylabel=&#39;Count&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_28_11.png" src="../_images/Visuals_and_Arts_1_28_11.png" />
</div>
</div>
<p>That is a normal distribution! Can you create a histogram for ‘Age’? Hint: data defines the data frame and x the column to look at …</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">crews</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Age&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Age&#39;, ylabel=&#39;Count&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_30_11.png" src="../_images/Visuals_and_Arts_1_30_11.png" />
</div>
</div>
<p>We often want to compare, however, the relative distribution of 2 or more variables. So, for instance, we are interested in the relationship between  and date of the whalers’ journey. Maybe, this shows that people get taller over time? Or maybe not. Let’s try.</p>
<p>Here, we have several points to map onto a coordinate system of two numerical variables. <a class="reference external" href="https://en.wikipedia.org/wiki/Scatter_plot">https://en.wikipedia.org/wiki/Scatter_plot</a> are are popular choice here. The syntax is similar to the histogram. Run <code class="docutils literal notranslate"><span class="pre">sns.scatterplot(data=crews,</span> <span class="pre">x='Date',</span> <span class="pre">y='Height')</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Height&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Date&#39;, ylabel=&#39;Height&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_32_1.png" src="../_images/Visuals_and_Arts_1_32_1.png" />
</div>
</div>
<p>You might have already noticed the most important questions to ask when beginning to plot. The first question is how many variables you have? The second is whether these variables are numerical or categorical? We have not covered categorical variables yet. This will come later. These two questions will determine what kind of plot you can do.</p>
<p>While we did everything right, ee have not really got an answer to the question whether people become taller, as the plot contains too many points. The graph shows how difficult it is to plot even this fairly small real world dataset. Do you remember our brief discussion of ‘bad data’ in an earlier session? There seem to be some suspicious outliers of very tall or very small whalers - height is in cm btw. If points in a scatterplot are so close, there will be various options to correct this.</p>
<p>The easiest is to change the aesthetics to make the points more transparent using the alpha-parameter. Furthermore, we would like to change the colour of the points in the next plot (with ‘color’). Run <code class="docutils literal notranslate"><span class="pre">sns.scatterplot(data=crews,</span> <span class="pre">x='Date',</span> <span class="pre">y='Height',</span> <span class="pre">alpha=0.15,</span> <span class="pre">color='red')</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Date&#39;, ylabel=&#39;Height&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_34_11.png" src="../_images/Visuals_and_Arts_1_34_11.png" />
</div>
</div>
<p>Our plot of crews shows many data points and significant overlap. Under these conditions, scatterplots become less useful. We have tried to change the alpha parameter to make the points more visible. Another approch is to bin the points into hexagonal cells, which is less complicated than it sounds.</p>
<p>While it is good to show some ambition, we run into another problem. Seaborn cannot work at the moment with calculations over date types - as far as I know. So, we need to help it. We do with a simple trick. We realise that our plots are not so much dependent on the exact date but on the year. This is all we can represent in our x-axis. So, we use the year for our calculations, which is nice mumerical value and not a date type.</p>
<p>In Pandas, it is easy to extract the year from a date type with DatetimeIndex on the ‘Date’ column. Run <code class="docutils literal notranslate"><span class="pre">crews['Year']</span> <span class="pre">=</span> <span class="pre">np.array(pd.DatetimeIndex(crews['Date']).year)</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crews</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">crews</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">year</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">crews.info()</span></code> tells us that we successfully created a ‘Year’ column of type float64, which we can use to make complex calculations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crews</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 5000 entries, 0 to 4999
Data columns (total 6 columns):
 #   Column  Non-Null Count  Dtype         
---  ------  --------------  -----         
 0   Age     2142 non-null   float64       
 1   Height  1334 non-null   float64       
 2   Date    2023 non-null   datetime64[ns]
 3   Rig     4991 non-null   object        
 4   Skin    2101 non-null   object        
 5   Year    2023 non-null   float64       
dtypes: datetime64[ns](1), float64(3), object(2)
memory usage: 234.5+ KB
</pre></div>
</div>
</div>
</div>
<p>Run now the same scatter plot command as above to retrieve the whalers’ height but use jointplot insteaad of scatterplot and add kind=’hex’ at the end: <code class="docutils literal notranslate"><span class="pre">sns.jointplot(x=crews.Year,</span> <span class="pre">y=crews.Height,</span> <span class="pre">alpha=0.15,</span> <span class="pre">color='red',</span> <span class="pre">kind='hex')</span></code>. It is a very strong visualisation of the relation of the variables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">jointplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">crews</span><span class="o">.</span><span class="n">Year</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">crews</span><span class="o">.</span><span class="n">Height</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hex&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.JointGrid at 0x130b9bd30&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_40_1.png" src="../_images/Visuals_and_Arts_1_40_1.png" />
</div>
</div>
<p>Looking at the plot, we should also be concerned that we have much more data for the earlier periods. In a real data analysis, this could be a big problem. Here, we just move on.</p>
<p>Btw, have you noticed that we used crews.Year and crews.Height instead of crews[‘Year’] and crews[‘Height’]. We  also skipped the data argument and addressed x and y directly. The crews.Year form is simply a short form, which can be useful if the expressions get too complicated. It is slightly less distracting on the eye, I think. But the best version is still <code class="docutils literal notranslate"><span class="pre">sns.jointplot(data=crews,</span> <span class="pre">x='Year',</span> <span class="pre">y='Height',</span> <span class="pre">alpha=0.15,</span> <span class="pre">color='red',</span> <span class="pre">kind='hex')</span></code>, with an explicit data argument. So, let’s return to this.</p>
<p>We asked earlier about the relation between the date and the height of the whalers. In statistics speech, the relation between two numerical variables can be found through calculating the linear regression. In seaborn, regplot plots the data and a linear regression based on it. Try: <code class="docutils literal notranslate"><span class="pre">sns.regplot(data=crews,</span> <span class="pre">x='Year',</span> <span class="pre">y='Height')</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">crews</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Height&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Year&#39;, ylabel=&#39;Height&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_42_11.png" src="../_images/Visuals_and_Arts_1_42_11.png" />
</div>
</div>
<p>We still do not have a clear idea od the relationship of the whalers’ height and the date of the journey.  we cannot really see the regression line here, so let’s change the colors and make the points more transparent again. Simply take a close look at our next command <code class="docutils literal notranslate"><span class="pre">sns.regplot(data=crews,</span> <span class="pre">x='Year',</span> <span class="pre">y='Height',</span> <span class="pre">scatter_kws={'color':</span> <span class="pre">'blue',</span> <span class="pre">'alpha':0.3},</span> <span class="pre">line_kws={&quot;color&quot;:</span> <span class="pre">&quot;red&quot;})</span></code>. You will see that the two additional arguments ending in <em>kws</em> define a dictionary of attributes for the scatter points and (regression) line.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span><span class="mf">0.3</span><span class="p">},</span> <span class="n">line_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Year&#39;, ylabel=&#39;Height&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_44_1.png" src="../_images/Visuals_and_Arts_1_44_1.png" />
</div>
</div>
<p>There is a nice  regression line in the graph now, which is fairly constant in terms of the height per year. There is a slight increase but nothing to really support our hypothesis. Most likely, our data is not big enough to come to a conclusion. Also, we had the problem of an uneven spread of our data across the years. But we move on.</p>
<p>For completeness, we continue by introducing a few more graphics ideas. We mentioned that we can also add categorical variables to a plot. We could make one of the axes categorical, but here we would like to show how to add a third and even a forth variable. Let’s try and show the skin color in the plot as well and later on also the skin colour of the whalers.</p>
<p>From experience we have too many categories of skins. So, we need to reduce the dataset. We do this by creating a new data frame and dropping all rows with NaN values. Run the next cell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Keep cell</span>
<span class="n">crews_cat</span> <span class="o">=</span> <span class="n">crews</span><span class="p">[[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="s1">&#39;Rig&#39;</span><span class="p">,</span> <span class="s1">&#39;Skin&#39;</span><span class="p">]]</span>
<span class="n">crews_cat</span> <span class="o">=</span> <span class="n">crews_cat</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">crews_cat</span><span class="o">.</span><span class="n">info</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 519 entries, 12 to 4958
Data columns (total 5 columns):
 #   Column  Non-Null Count  Dtype         
---  ------  --------------  -----         
 0   Date    519 non-null    datetime64[ns]
 1   Year    519 non-null    float64       
 2   Height  519 non-null    float64       
 3   Rig     519 non-null    object        
 4   Skin    519 non-null    object        
dtypes: datetime64[ns](1), float64(2), object(2)
memory usage: 24.3+ KB
</pre></div>
</div>
</div>
</div>
<p>This has reduced our data quite a bit to 519 entries. We can now add ‘Rig’ to the visualisation. We use the colour of the scatter points to visualise the different types of rigs. If you you change in a seaborn graph an parameter to the name of a column in the data, then it will try to match the values in that column. In our case, we need the parameter hue according to the scatterplot documentation. Run <code class="docutils literal notranslate"><span class="pre">sns.scatterplot(data=crews_cat,</span> <span class="pre">x='Year',</span> <span class="pre">y='Height',</span> <span class="pre">alpha=0.15,</span> <span class="pre">hue='Rig')</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews_cat</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Rig&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Year&#39;, ylabel=&#39;Height&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_48_1.png" src="../_images/Visuals_and_Arts_1_48_1.png" />
</div>
</div>
<p>Not bad but we cannot really see a relation. Let’s add in ‘Skin’ using the style parameter, which define the shape of the points. Type in <code class="docutils literal notranslate"><span class="pre">sns.scatterplot(data=crews_cat,x</span> <span class="pre">=</span> <span class="pre">'Year',</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">'Height',</span> <span class="pre">alpha=0.15,</span> <span class="pre">hue='Rig',</span> <span class="pre">style='Skin')</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews_cat</span><span class="p">,</span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Rig&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;Skin&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Year&#39;, ylabel=&#39;Height&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_50_1.png" src="../_images/Visuals_and_Arts_1_50_1.png" />
</div>
</div>
<p>Oh well, the graph is not as useful as hoped. Too much information. There are simply too many points and in particular skin colours. Maybe, it would have been better to use test data than real life data, but at least you should get a feeling of the challenges we face with social and cultural data. In the real life of data, you often try, fail and try again until you get something nice. One last try though, as we are quite interested in the skin colours of the whalers.</p>
<p>If we have many different aspects to look at, facetted plots can be useful. Try and be amazed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">FacetGrid</span><span class="p">(</span><span class="n">crews_cat</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s2">&quot;Skin&quot;</span><span class="p">,</span> <span class="n">col_wrap</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>

</pre></div>
</div>
<p>FaceGrid maps a dataset onto multiple axes arrayed in a grid of rows and columns that correspond to levels of variables in the dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">FacetGrid</span><span class="p">(</span><span class="n">crews_cat</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s2">&quot;Skin&quot;</span><span class="p">,</span> <span class="n">col_wrap</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x13110b610&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_52_1.png" src="../_images/Visuals_and_Arts_1_52_1.png" />
</div>
</div>
<p>If you zoom in to the new graph, you will notice some differences in terms of the height but also of the dates when whalers of particular skin types were recorded. Also, it was even for this small subset of data a very diverse group of people. But the graph is still very complicated, and it is not easy to draw any conclusion from it.</p>
<p>Overall, <a class="reference external" href="http://benschmidt.org/Crewlists">http://benschmidt.org/Crewlists</a> had a better idea by trying to analyse the relationship of age and height of whalers. As an exercise, let us start from the beginning …</p>
<p>Run a scatterplot with the whole crews data over ‘Age’ and ‘Height’. Define the color as red and alpha=0.15</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Age&#39;, ylabel=&#39;Height&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_54_1.png" src="../_images/Visuals_and_Arts_1_54_1.png" />
</div>
</div>
<p>Ok, there seems to be a real relationship between age and height. But again, many values are missing. We do not like this and hence define a new data frame that contains only full ‘Age’ and ‘Height’ records by removing the NaN values. Try <code class="docutils literal notranslate"><span class="pre">crews_ag</span> <span class="pre">=</span> <span class="pre">crews[['Age',</span> <span class="pre">'Height']].dropna()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crews_ag</span> <span class="o">=</span> <span class="n">crews</span><span class="p">[[</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Next run the scatterplot again with crews_ag.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews_ag</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Age&#39;, ylabel=&#39;Height&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_58_1.png" src="../_images/Visuals_and_Arts_1_58_1.png" />
</div>
</div>
<p>Next we would like to manually and personally add a regression line to see whether our hypothesis about the relationship of the variables is right.</p>
<p>We will use from the stats library the linregress function. Load it with <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">scipy.stats</span> <span class="pre">import</span> <span class="pre">linregress</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">linregress</span>
</pre></div>
</div>
</div>
</div>
<p>To create a regression, we need to run <code class="docutils literal notranslate"><span class="pre">slope,</span> <span class="pre">intercept,</span> <span class="pre">_,</span> <span class="pre">_,</span> <span class="pre">_</span> <span class="pre">=</span> <span class="pre">linregress(crews_ag['Age'],</span> <span class="pre">crews_ag['Height'])</span></code>. The function returns five values, but we are only interest in the first two, which is why we ignore the remaining three by using _.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slope</span><span class="p">,</span> <span class="n">intercept</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">linregress</span><span class="p">(</span><span class="n">crews_ag</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">],</span> <span class="n">crews_ag</span><span class="p">[</span><span class="s1">&#39;Height&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Do you remember from school what slope and intercept stand for? You are right, slope indicates the steepness of the line, and the intercept indicates the location where it intersects the y-axis. Let’s print out both. Run the next cell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Keep cell</span>
<span class="nb">print</span><span class="p">(</span><span class="n">slope</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">intercept</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.143483378185422
166.87316846747345
</pre></div>
</div>
</div>
</div>
<p>The slight slope shows that height increases with age, although the approximation is not great, as people do not really get taller beyond a certain age. Nevertheless, congratulations are in order. You have proven that whalers get taller when they become older.</p>
<p>Let’s get on with our plotting and create a new column to hold our height-prediction information. A regression is of course nothing else but y = slope * x + intercept, which means in our case:</p>
<p><code class="docutils literal notranslate"><span class="pre">crews_ag['HeightPrediction']</span> <span class="pre">=</span> <span class="pre">np.array(crews_ag['Age'])</span> <span class="pre">*</span> <span class="pre">slope</span> <span class="pre">+</span> <span class="pre">intercept</span></code></p>
<p>x is the age and y is the predicted height.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crews_ag</span><span class="p">[</span><span class="s1">&#39;HeightPrediction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">crews_ag</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="n">slope</span> <span class="o">+</span> <span class="n">intercept</span>
</pre></div>
</div>
</div>
</div>
<p>The good news is that you can just add a line plot to the existing scatter plot to create the complete regression. Run in one cell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews_ag</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews_ag</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;HeightPrediction&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Check also the seaborn cheat sheet: <a class="reference external" href="https://s3.amazonaws.com/assets.datacamp.com/blog_assets/Python_Seaborn_Cheat_Sheet.pdf">https://s3.amazonaws.com/assets.datacamp.com/blog_assets/Python_Seaborn_Cheat_Sheet.pdf</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews_ag</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crews_ag</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;HeightPrediction&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Age&#39;, ylabel=&#39;Height&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_68_1.png" src="../_images/Visuals_and_Arts_1_68_1.png" />
</div>
</div>
<p>Next to something hopefully altogether more exciting to deal with.</p>
<p>We move on from whaling cultures to museums and your future job as an analyst there. Several arts museums around the world publish their collections’ metadata online. Very popular is, for instance, New York’s Museum of Modern Art (MoMA) collection data (<a class="reference external" href="https://github.com/MuseumofModernArt/collection">https://github.com/MuseumofModernArt/collection</a>). Let us take a look at their artworks’ information. Please note that this data is refreshed monthly and fairly large with over 50 MB at the time of writing. So, if you download it now you might see some differences to our suggested data frame moma_artworks, which is just a sample. Run the next cell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Keep cell</span>

<span class="n">moma_art</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/moma-artworks-sample.csv&quot;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Type in <code class="docutils literal notranslate"><span class="pre">moma_artworks.head()</span></code> to take a look at the first rows. For the rest of the MoMA exercises, we take inspiration from <a class="reference external" href="http://sebastianbarfort.github.io/">http://sebastianbarfort.github.io/</a> who many years ago came up with this task.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">moma_art</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Title</th>
      <th>Artist</th>
      <th>ConstituentID</th>
      <th>ArtistBio</th>
      <th>Nationality</th>
      <th>BeginDate</th>
      <th>EndDate</th>
      <th>Gender</th>
      <th>Date</th>
      <th>Medium</th>
      <th>...</th>
      <th>ThumbnailURL</th>
      <th>Circumference (cm)</th>
      <th>Depth (cm)</th>
      <th>Diameter (cm)</th>
      <th>Height (cm)</th>
      <th>Length (cm)</th>
      <th>Weight (kg)</th>
      <th>Width (cm)</th>
      <th>Seat Height (cm)</th>
      <th>Duration (sec.)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Diary</td>
      <td>Richard Smith</td>
      <td>5493</td>
      <td>(British, 1931–2016)</td>
      <td>(British)</td>
      <td>(1931)</td>
      <td>(2016)</td>
      <td>(Male)</td>
      <td>1975</td>
      <td>Screenprint on seven sheets with punched hole ...</td>
      <td>...</td>
      <td>http://www.moma.org/media/W1siZiIsIjE1NjU5MyJd...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>52.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>52.200000</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Trial proof for "Have Mercy Upon Me, Oh God, A...</td>
      <td>Georges Rouault</td>
      <td>5053</td>
      <td>(French, 1871–1958)</td>
      <td>(French)</td>
      <td>(1871)</td>
      <td>(1958)</td>
      <td>(Male)</td>
      <td>(Book commissioned, but unpublished by Vollard...</td>
      <td>Aquatint, lift ground aquatint, and drypoint o...</td>
      <td>...</td>
      <td>http://www.moma.org/media/W1siZiIsIjIxOTkxMyJd...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>60.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>44.700000</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Beth Sholom Synagogue, Elkins Park, Pennsylvania</td>
      <td>Frank Lloyd Wright</td>
      <td>6459</td>
      <td>(American, 1867–1959)</td>
      <td>(American)</td>
      <td>(1867)</td>
      <td>(1959)</td>
      <td>(Male)</td>
      <td>1954</td>
      <td>Drawing</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Untitled</td>
      <td>Alan Saret</td>
      <td>5163</td>
      <td>(American, born 1944)</td>
      <td>(American)</td>
      <td>(1944)</td>
      <td>(0)</td>
      <td>(Male)</td>
      <td>(1970)</td>
      <td>Colored pencil on paper</td>
      <td>...</td>
      <td>http://www.moma.org/media/W1siZiIsIjM0MTk4NyJd...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>61.200000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>96.500000</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Remodelling of Modlinger House, Wannsee, Berli...</td>
      <td>Lilly Reich</td>
      <td>8059</td>
      <td>(German, 1885–1947)</td>
      <td>(German)</td>
      <td>(1885)</td>
      <td>(1947)</td>
      <td>(Female)</td>
      <td>1930-1931</td>
      <td>Pencil and colored pencil on print</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>44.450089</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>45.720091</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 29 columns</p>
</div></div></div>
</div>
<p>In this part, let’s pretend you work for MoMA, and your manager has asked you to create a visualisation showcasing the development of the museum stock. Next to the moma_artworks, I have also created the moma_stock data frame. We would like to know how the stock has developed in recent years and visualise it. Run the next cell and observe the argument parse_date which allows you to specify which columns should be parsed for the date format.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Keep cell</span>

<span class="n">moma_stock</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/moma-stock.csv&quot;</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Check out the first few records of moma_stock.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">moma_stock</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>supply</th>
      <th>stock</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1929-11-01</td>
      <td>9</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1930-01-01</td>
      <td>3</td>
      <td>12</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1930-04-01</td>
      <td>2</td>
      <td>14</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1930-06-01</td>
      <td>1</td>
      <td>15</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1930-10-01</td>
      <td>2</td>
      <td>17</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Next, we draw a simple red line to represent the stock development. Try whether you can use sns.lineplot with moma_stock. x=’date’ and y=’stock’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">moma_stock</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;stock&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;date&#39;, ylabel=&#39;stock&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_78_1.png" src="../_images/Visuals_and_Arts_1_78_1.png" />
</div>
</div>
<p>There is a definite jump in holdings from the late 1960s onwards. Or is this simply a recording issue? We cannot know  and would have to do further research.</p>
<p>Let’s investigate the development of MoMA departments next. moma_departments contains the stocks per department. Run the next cell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Keep cell</span>
<span class="n">moma_dep</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/moma-departments.csv&quot;</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="n">moma_dep</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>Department</th>
      <th>supply</th>
      <th>stock</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1932-01-01</td>
      <td>Architecture &amp; Design</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1934-01-01</td>
      <td>Architecture &amp; Design</td>
      <td>2</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1934-04-01</td>
      <td>Architecture &amp; Design</td>
      <td>43</td>
      <td>47</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1934-09-01</td>
      <td>Architecture &amp; Design</td>
      <td>4</td>
      <td>51</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1935-11-01</td>
      <td>Architecture &amp; Design</td>
      <td>22</td>
      <td>73</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s plot the development of the stock of each department by setting a different color for each department by using hue=’Department’, just as we did with the whalers’ Rig. You can do it … Hint: x=’date’ and y=’stock’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">moma_dep</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Department&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;date&#39;, ylabel=&#39;stock&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_82_1.png" src="../_images/Visuals_and_Arts_1_82_1.png" />
</div>
</div>
<p>Well done! But you are rather nervous about showing this to your manager, the legend is covering most of the view of the plot, which makes it a bit messy. You would like to change the look and feel a bit.</p>
<p>Seaborn has five built-in themes to style its plots: darkgrid, whitegrid, dark, white, and ticks: <a class="reference external" href="http://seaborn.pydata.org/tutorial/aesthetics.html">http://seaborn.pydata.org/tutorial/aesthetics.html</a> Seaborn defaults to using the darkgrid theme for its plots, but you can change this styling to better suit your presentation needs.</p>
<p>To use any of the preset themes pass the name of it to sns.set_style().
(<a class="reference external" href="https://www.codecademy.com/articles/seaborn-design-i">https://www.codecademy.com/articles/seaborn-design-i</a>)</p>
<p>However, these do not include the possibility to change the background colour, which we want to do. For this, we need to use the built-in styles of matplotlib, plt.style.use(). Run: <code class="docutils literal notranslate"><span class="pre">plt.style.use('dark_background')</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;dark_background&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now run the lineplot again with date and stock and hue=’Department’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">moma_dep</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Department&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;date&#39;, ylabel=&#39;stock&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_86_1.png" src="../_images/Visuals_and_Arts_1_86_1.png" />
</div>
</div>
<p>It’s black, but the position of the legend seems to be even worse now. Luckily, we can also change this using matplotlib’s plt.legend(), where we use the argument bbox_to_anchor=(1.01, 1) to tell it the coordinates of where the legend needs to go. Finding the correct coordinates is a bit of trial and error, which we have already done for you …</p>
<p>Run and observe how you can compose a graphics from different element following on the grammar of graphics:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">moma_dep</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Department&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.01</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">moma_dep</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Department&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.01</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x13236ff10&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_88_1.png" src="../_images/Visuals_and_Arts_1_88_1.png" />
</div>
</div>
<p>Hmm, it still doesn’t look completely right, the size of the labels on the x-axis seem a little bit too big. Let’s change this as well using Matplotlib’s tick_params() because we can. Run the cell below and observe again how we incrementally can add more and more elements to the graph until we get it right.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Keep cell</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">moma_dep</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Department&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.01</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Visuals_and_Arts_1_90_0.png" src="../_images/Visuals_and_Arts_1_90_0.png" />
</div>
</div>
<p>Before we continue, we need to reset the style to default to avoid use dark backgrounds for the rest of the session. Run <code class="docutils literal notranslate"><span class="pre">plt.style.use('default')</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Your manager likes it!</p>
<p>After your success at MoMA, why not start at the TATE-galleries in Britain? Your first task is to compare visitor numbers. You have been given a data frame tate_attendance. Run the next cell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Keep cell</span>
<span class="n">tate_attendance</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/tate-visitors.csv&quot;</span><span class="p">)</span>
<span class="n">tate_attendance</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>gallery</th>
      <th>visitors</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2006</td>
      <td>Britain</td>
      <td>1665</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2007</td>
      <td>Britain</td>
      <td>1533</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2008</td>
      <td>Britain</td>
      <td>1587</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2009</td>
      <td>Britain</td>
      <td>1576</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2010</td>
      <td>Britain</td>
      <td>1606</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2011</td>
      <td>Britain</td>
      <td>1465</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2012</td>
      <td>Britain</td>
      <td>1396</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2013</td>
      <td>Britain</td>
      <td>1419</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2014</td>
      <td>Britain</td>
      <td>1373</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2015</td>
      <td>Britain</td>
      <td>1273</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2016</td>
      <td>Britain</td>
      <td>1363</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2017</td>
      <td>Britain</td>
      <td>1548</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2018</td>
      <td>Britain</td>
      <td>1357</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2019</td>
      <td>Britain</td>
      <td>1621</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2006</td>
      <td>Modern</td>
      <td>5235</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2007</td>
      <td>Modern</td>
      <td>5237</td>
    </tr>
    <tr>
      <th>16</th>
      <td>2008</td>
      <td>Modern</td>
      <td>4648</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2009</td>
      <td>Modern</td>
      <td>4788</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2010</td>
      <td>Modern</td>
      <td>5035</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2011</td>
      <td>Modern</td>
      <td>4766</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>tate_attendance obviously contains the visitor numbers since 2006 for all TATE-galleries in Britain. You are eager to plot it in order to compare visitor developments and you heard that the wonderful area plots would do a great job at it. There is no seaborn area plot but Matplotlib has one: <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.area.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.area.html</a></p>
<p>You soon realise that there is an issue with the format. It has been created as ‘tidy data’, as defined by Hadley Wickham in the Journal of Statistical Software (<a class="reference external" href="https://www.jstatsoft.org/article/view/v059i10/v59i10.pdf">https://www.jstatsoft.org/article/view/v059i10/v59i10.pdf</a>). In tidy data, each row is an observation and each column contains the values of a variable (i.e. an attribute of what we are observing). It is also called narrow format as in <a class="reference external" href="https://en.wikipedia.org/wiki/Wide_and_narrow_data">https://en.wikipedia.org/wiki/Wide_and_narrow_data</a> (sometimes this distinction is also called long and wide).</p>
<p>Matplotlib’s area plot requires wide data. So, you need to transform the data. This is easily done in Python with pivot, which takes: an index to use (in this case the year); columns, which define the new column(s), which the names of the new wide columns are found; and the values to put in the cells. Run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tate_wide</span> <span class="o">=</span> <span class="n">tate_attendance</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;gallery&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;visitors&#39;</span><span class="p">)</span>
<span class="n">tate_wide</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tate_wide</span> <span class="o">=</span> <span class="n">tate_attendance</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;gallery&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;visitors&#39;</span><span class="p">)</span>
<span class="n">tate_wide</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>gallery</th>
      <th>Britain</th>
      <th>Liverpool</th>
      <th>Modern</th>
      <th>StIves</th>
    </tr>
    <tr>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2006</th>
      <td>1665</td>
      <td>566</td>
      <td>5235</td>
      <td>241</td>
    </tr>
    <tr>
      <th>2007</th>
      <td>1533</td>
      <td>691</td>
      <td>5237</td>
      <td>244</td>
    </tr>
    <tr>
      <th>2008</th>
      <td>1587</td>
      <td>1036</td>
      <td>4648</td>
      <td>204</td>
    </tr>
    <tr>
      <th>2009</th>
      <td>1576</td>
      <td>523</td>
      <td>4788</td>
      <td>219</td>
    </tr>
    <tr>
      <th>2010</th>
      <td>1606</td>
      <td>606</td>
      <td>5035</td>
      <td>199</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Pivotting and its opposite from wide to long called melting (check out the Pandas ‘melt’ function) require some practice but are essentinal skills. So, spend some time after this session on the documentation. Here is the cheat sheet: <a class="reference external" href="http://datacamp-community-prod.s3.amazonaws.com/d4efb29b-f9c6-4f1c-8c98-6f568d88b48f">http://datacamp-community-prod.s3.amazonaws.com/d4efb29b-f9c6-4f1c-8c98-6f568d88b48f</a></p>
<p>You are almost there. Creating the plot is easy now with <code class="docutils literal notranslate"><span class="pre">tate_wide.plot(kind='area')</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tate_wide</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;area&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;year&#39;&gt;
</pre></div>
</div>
<img alt="../_images/Visuals_and_Arts_1_98_1.png" src="../_images/Visuals_and_Arts_1_98_1.png" />
</div>
</div>
<p>Success! We have made great progress in the art of plotting and grammar of graphics.</p>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./VisualsArts"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By DIMPAH<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>